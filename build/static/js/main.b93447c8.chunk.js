(this.webpackJsonpa=this.webpackJsonpa||[]).push([[0],{100:function(e,n,t){},105:function(e,n,t){},107:function(e,n,t){"use strict";t.r(n);var c=t(3),a=t(2),r=t.n(a),i=t(40),s=t.n(i),o=t(20),l=t(71),j=t(16),d=t(28),u=t(55),b=t(73),h=t.n(b),O=t(74),m=t.n(O),f={key:"root",storage:h.a,stateReconciler:m.a},p=Object(u.a)(f,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{darkMode:!1},n=arguments.length>1?arguments[1]:void 0;switch(console.log(n,e),n.type){case"TOOGLE_MODE":return{darkMode:!e.darkMode};default:return e}})),g=Object(d.c)(p,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),x=Object(u.b)(g),v=t(30),k=t(11),N=t(12),y=(t(95),Object(j.b)((function(e,n){return Object(N.a)(Object(N.a)({},e),n)}),(function(e,n){return{handleDarkMode:function(){e({type:"TOOGLE_MODE"})}}}))((function(e){return Object(c.jsxs)("div",{className:e.darkMode?"cHeader darkElement":"cHeader lightElement",children:[Object(c.jsx)("h3",{children:"Where in the world?"}),Object(c.jsxs)("button",{className:"cDarkMode",onClick:function(){return e.handleDarkMode()},children:[Object(c.jsx)("i",{className:"fa fa-moon-o","aria-hidden":"true"}),"Dark Mode"]})]})}))),w=t(48),C=t(32),E=t(75),S=t(76),M=t(84),B=t(83),R=(t(96),function(e){Object(M.a)(t,e);var n=Object(B.a)(t);function t(e){var a;return Object(E.a)(this,t),(a=n.call(this,e)).state={show:!1},a.handleClickOutside=function(e){a.wrapperRef&&!a.wrapperRef.current.contains(e.target)&&a.state.show&&a.setState({show:!a.state.show})},a.handleClickInside=function(e){a.props.setCountinent(e),a.setState({show:!1})},a.generateList=function(){return["Africa","Americas","Asia","Europe","Oceania"].map((function(e,n){return Object(c.jsx)("li",{onClick:function(){return a.handleClickInside(e)},children:e},n)}))},a.render=function(){return Object(c.jsxs)("div",{className:a.props.darkMode?"cDropdown darkElement":"cDropdown lightElement",ref:a.wrapperRef,children:[Object(c.jsxs)("div",{className:"head",onClick:function(){return a.setState({show:!a.state.show})},children:[""!==a.props.default?a.props.default:"Filter by Region",Object(c.jsx)("i",{className:"fa fa-angle-down","aria-hidden":"true"})]}),Object(c.jsx)("ul",{className:a.state.show?"cVisible":"",children:a.generateList()})]})},a.wrapperRef=r.a.createRef(),a}return Object(S.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}}]),t}(a.Component)),_=Object(j.b)((function(e,n){return Object(N.a)(Object(N.a)({},e),n)}),null)(R),D=(t(97),Object(j.b)((function(e,n){return Object(N.a)(Object(N.a)({},e),n)}),null)((function(e){return Object(c.jsxs)("div",{className:e.darkMode?"cInput darkElement":"cInput lightInputElement",children:[Object(c.jsx)("i",{className:"fa fa-search","aria-hidden":"true"}),Object(c.jsx)("input",{type:"text",placeholder:"Search for a country...",onChange:function(n){return e.handleSearch(n.target.value)},value:e.cValue})]})}))),L=(t(98),Object(j.b)((function(e,n){return Object(N.a)(Object(N.a)({},e),n)}),null)((function(e){var n=e.darkMode,t=e.name,a=e.flag,r=e.population,i=e.region,s=e.capital;return Object(c.jsx)("div",{className:n?"darkElement cCard":"lightElement cCard",children:Object(c.jsxs)(v.b,{to:"/country/".concat(t),children:[Object(c.jsx)("img",{src:a,alt:""}),Object(c.jsx)("h3",{children:t}),Object(c.jsxs)("p",{children:["Population: ",r]}),Object(c.jsxs)("p",{children:["Region: ",i]}),Object(c.jsxs)("p",{children:["Capital: ",s]})]})})})));t(100);function q(){var e=Object(C.a)(["query RootQuerry($name:String){ \n        countriesByRegion(name: $name){\n            name\n            population\n            region\n            capital\n            flag\n        }}"]);return q=function(){return e},e}function T(){var e=Object(C.a)(["query RootQuerry($name:String){ \n        countriesSearch(name: $name){\n            name\n            population\n            region\n            capital\n            flag\n        }}"]);return T=function(){return e},e}function I(){var e=Object(C.a)(["\n    query RootQuerry{ \n        countries{\n        name\n        population\n        region\n        capital\n        flag\n    }}"]);return I=function(){return e},e}var H=Object(j.b)((function(e,n){return Object(N.a)(Object(N.a)({},e),n)}),null)((function(e){var n=[Object(o.gql)(I()),Object(o.gql)(T()),Object(o.gql)(q())],t=Object(a.useState)(""),r=Object(w.a)(t,2),i=r[0],s=r[1],l=Object(a.useState)(""),j=Object(w.a)(l,2),d=j[0],u=j[1],b=Object(a.useState)(0),h=Object(w.a)(b,2),O=h[0],m=h[1],f=function(e){s(e),m(2),u("")},p=function(e){""===e?(s(""),m(0),u("")):(s(""),m(1),u(e))},g=Object(o.useQuery)(n[O],{variables:{name:1==O?d:i}}),x=g.loading,v=g.error,k=g.data;if(x)return Object(c.jsxs)("div",{className:e.darkMode?"cHome darkBackground":"cHome lightBackground",children:[Object(c.jsxs)("div",{className:"cTop",children:[Object(c.jsx)(D,{handleSearch:p,cValue:d}),Object(c.jsx)(_,{default:i,setCountinent:f})]}),Object(c.jsx)("h4",{children:"Loading..."})]});if(v)return console.log(JSON.stringify(v,null,3)),Object(c.jsxs)("div",{className:e.darkMode?"cHome darkBackground":"cHome lightBackground",children:[Object(c.jsxs)("div",{className:"cTop",children:[Object(c.jsx)(D,{handleSearch:p,cValue:d}),Object(c.jsx)(_,{default:i,setCountinent:f})]}),Object(c.jsx)("h4",{children:"Error..."})]});var N=[];return N=k.countries?k.countries:k.countriesSearch?k.countriesSearch:k.countriesByRegion,Object(c.jsxs)("div",{className:e.darkMode?"cHome darkBackground":"cHome lightBackground",children:[Object(c.jsxs)("div",{className:"cTop",children:[Object(c.jsx)(D,{handleSearch:p,cValue:d}),Object(c.jsx)(_,{default:i,setCountinent:f})]}),Object(c.jsx)("div",{className:"cBody",children:0===N.lenght?"":N.map((function(e){return Object(c.jsx)(L,{capital:e.capital,flag:e.flag,population:e.population,name:e.name,region:e.region})}))})]})})),V=(t(105),t(80));function $(){var e=Object(C.a)(["\n    query RootQuerry($name:String){\n        country(name:$name){\n            name\n            flag\n            nativeName\n            subregion\n            population\n            region\n            capital\n            topLevelDomain\n            languages{\n                name\n              }\n              currencies{\n                code\n              }\n            borders\n        }\n    }\n    "]);return $=function(){return e},e}var Q=Object(o.gql)($()),A=Object(j.b)((function(e,n){return Object(N.a)(Object(N.a)({},e),n)}))(Object(k.h)((function(e){var n=Object(k.f)(),t=Object(k.g)(),a=function(){n.push("/")},r=e.darkMode?"darkElement":"lightElement",i=e.darkMode?"darkBackground":"lightBackground",s=Object(o.useQuery)(Q,{variables:t}),l=s.loading,j=s.error,d=s.data;if(l)return Object(c.jsxs)("div",{className:"cCountry "+i,children:[Object(c.jsxs)("button",{className:r,onClick:a,children:[Object(c.jsx)("i",{className:"fa fa-long-arrow-left","aria-hidden":"true"}),"Back"]}),Object(c.jsx)("p",{children:"Loading..."})]});if(j)return console.log(JSON.stringify(j,null,2)),Object(c.jsxs)("div",{className:"cCountry "+i,children:[Object(c.jsxs)("button",{className:r,onClick:a,children:[Object(c.jsx)("i",{className:"fa fa-long-arrow-left","aria-hidden":"true"}),"Back"]}),Object(c.jsx)("p",{children:"Error..."})]});var u=d.country,b=u.name,h=u.flag,O=u.nativeName,m=u.subregion,f=u.population,p=u.region,g=u.capital,x=u.topLevelDomain,N=u.borders,y=0===d.country.languages.length?"":d.country.languages.map((function(e){return e.name})).join(", "),w=0===d.country.currencies.length?"":d.country.currencies.map((function(e){return e.code})).join(", ");return Object(c.jsxs)("div",{className:"cCountry "+i,children:[Object(c.jsx)(V.a,{children:Object(c.jsxs)("title",{children:[b," details"]})}),Object(c.jsxs)("button",{className:r,onClick:a,children:[Object(c.jsx)("i",{className:"fa fa-long-arrow-left","aria-hidden":"true"}),"Back"]}),Object(c.jsxs)("div",{className:"grid",children:[Object(c.jsx)("div",{className:"flag",children:Object(c.jsx)("img",{src:h,alt:"".concat(b," flag")})}),Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h2",{children:b})}),Object(c.jsx)("div",{className:"info1",children:Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{children:"NativeName: "}),O]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{children:"Population: "}),f]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{children:"Region: "}),p]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{children:"Subregion: "}),m]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{children:"Capital: "}),g]})]})}),Object(c.jsx)("div",{className:"info2",children:Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{children:"Top Level Domain: "}),x]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{children:"Currencies: "}),w]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{children:"Languages: "}),y]})]})}),Object(c.jsxs)("div",{className:"info3",children:[Object(c.jsx)("div",{className:"info3_1",children:"Border Countries:"}),Object(c.jsx)("div",{className:"info3_2",children:0===N.length?"":N.map((function(e,n){return Object(c.jsx)(v.b,{to:"/country/".concat(e),className:"border_item "+r,children:e},n)}))})]})]})]})})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=new o.ApolloClient({uri:"https://graphql-test-country1.herokuapp.com/graphql",cache:new o.InMemoryCache});s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(o.ApolloProvider,{client:J,children:Object(c.jsx)(j.a,{store:g,children:Object(c.jsxs)(l.a,{loading:null,persistor:x,children:[Object(c.jsx)(y,{}),Object(c.jsx)(v.a,{children:Object(c.jsxs)(k.c,{children:[Object(c.jsx)(k.a,{exact:!0,path:"/",children:Object(c.jsx)(H,{})}),Object(c.jsx)(k.a,{path:"/country/:name",children:Object(c.jsx)(A,{})})]})})]})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,n,t){},96:function(e,n,t){},97:function(e,n,t){},98:function(e,n,t){}},[[107,1,2]]]);
//# sourceMappingURL=main.b93447c8.chunk.js.map